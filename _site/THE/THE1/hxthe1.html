<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yap Hong Xian">
<meta name="dcterms.date" content="2024-09-02">

<title>415 - Takehome 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">415</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hoes" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">HOEs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hoes">    
        <li>
    <a class="dropdown-item" href="../../HOE/ex1/ex1.html">
 <span class="dropdown-text">ex1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../HOE/ex2/ex2.html">
 <span class="dropdown-text">ex2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../HOE/ex3/ex3.html">
 <span class="dropdown-text">ex3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../HOE/ex4/ex4.html">
 <span class="dropdown-text">ex4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../HOE/ex5/ex5.html">
 <span class="dropdown-text">ex5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../HOE/ex6/ex6.html">
 <span class="dropdown-text">ex6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../HOE/ex7/ex7.html">
 <span class="dropdown-text">ex7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ices" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ICEs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ices">    
        <li>
    <a class="dropdown-item" href="../../ICE/ex1/ice1.html">
 <span class="dropdown-text">ice1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../ICE/ex2/ice2.html">
 <span class="dropdown-text">ice2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../ICE/ex3/ice3.html">
 <span class="dropdown-text">ice3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../ICE/ex4/ice4.html">
 <span class="dropdown-text">ice4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../ICE/ex5/ice5.html">
 <span class="dropdown-text">ice5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../ICE/ex6/ice6.html">
 <span class="dropdown-text">ice6</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-armed-conflict-in-myanmar" id="toc-introduction-armed-conflict-in-myanmar" class="nav-link active" data-scroll-target="#introduction-armed-conflict-in-myanmar">Introduction: Armed Conflict in Myanmar</a>
  <ul class="collapse">
  <li><a href="#historical-context" id="toc-historical-context" class="nav-link" data-scroll-target="#historical-context">Historical Context</a></li>
  <li><a href="#key-factors-in-myanmars-conflicts" id="toc-key-factors-in-myanmars-conflicts" class="nav-link" data-scroll-target="#key-factors-in-myanmars-conflicts">Key Factors in Myanmar’s Conflicts</a></li>
  <li><a href="#purpose-of-the-analysis-given-this-complex-backdrop-our-geospatial-analysis-of-armed-conflict-in-myanmar-aims-to" id="toc-purpose-of-the-analysis-given-this-complex-backdrop-our-geospatial-analysis-of-armed-conflict-in-myanmar-aims-to" class="nav-link" data-scroll-target="#purpose-of-the-analysis-given-this-complex-backdrop-our-geospatial-analysis-of-armed-conflict-in-myanmar-aims-to">Purpose of the Analysis Given this complex backdrop, our geospatial analysis of armed conflict in Myanmar aims to:</a></li>
  </ul></li>
  <li><a href="#compare-crs" id="toc-compare-crs" class="nav-link" data-scroll-target="#compare-crs">Compare CRS</a></li>
  <li><a href="#defining-our-kde-function-and-ppp" id="toc-defining-our-kde-function-and-ppp" class="nav-link" data-scroll-target="#defining-our-kde-function-and-ppp">Defining our KDE function, and ppp</a>
  <ul class="collapse">
  <li><a href="#plotting-armed-events-owin" id="toc-plotting-armed-events-owin" class="nav-link" data-scroll-target="#plotting-armed-events-owin">Plotting Armed events owin:</a>
  <ul class="collapse">
  <li><a href="#plotting-stkde-for-quarterly-kde" id="toc-plotting-stkde-for-quarterly-kde" class="nav-link" data-scroll-target="#plotting-stkde-for-quarterly-kde">Plotting stkde for quarterly kde</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Takehome 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Yap Hong Xian </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 2, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">September 2, 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"maptools"</span>, <span class="at">repos =</span> <span class="st">"https://packagemanager.posit.co/cran/2023-10-13"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into 'C:/Users/pwnyt/AppData/Local/R/win-library/4.4'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>package 'maptools' successfully unpacked and MD5 sums checked

The downloaded binary packages are in
    C:\Users\pwnyt\AppData\Local\Temp\RtmpOa46yn\downloaded_packages</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tmap, sf, tidyverse, raster, spatstat, maptools, sp, sparr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="introduction-armed-conflict-in-myanmar" class="level1">
<h1>Introduction: Armed Conflict in Myanmar</h1>
<p>Myanmar, formerly known as Burma, is a country in Southeast Asia with a rich cultural heritage and a complex, often troubled modern history. With a population of about 54 million people and over 135 distinct ethnic groups, Myanmar is a tapestry of diverse cultures, languages, and traditions. However, this diversity has also been a source of long-standing tensions and conflicts.</p>
<section id="historical-context" class="level2">
<h2 class="anchored" data-anchor-id="historical-context">Historical Context</h2>
<p>Since gaining independence from British rule in 1948, Myanmar has grappled with numerous internal conflicts. For decades, the country was under military rule, which ended officially in 2011 with a transition to a quasi-civilian government. However, in February 2021, the military (Tatmadaw) seized power again in a coup, plunging the country back into political turmoil and reigniting many dormant conflicts.</p>
</section>
<section id="key-factors-in-myanmars-conflicts" class="level2">
<h2 class="anchored" data-anchor-id="key-factors-in-myanmars-conflicts">Key Factors in Myanmar’s Conflicts</h2>
<p>Our analysis of armed conflict in Myanmar focuses on three primary factors that have historically been, and continue to be, major drivers of instability:</p>
<p>1. <strong>Religious Tensions</strong>: Myanmar is predominantly Buddhist, but with significant Muslim, Christian, and animist minorities. Religious tensions, particularly between Buddhists and Muslims, have led to violent conflicts, most notably the persecution of the Rohingya Muslim minority in Rakhine State.</p>
<p>2. <strong>Ethnic Tensions</strong>: The country’s ethnic diversity has been a source of both cultural richness and conflict. Many ethnic minority groups, particularly in border areas, have long sought greater autonomy or independence from the central government dominated by the Bamar majority. These tensions have resulted in some of the world’s longest-running civil wars.</p>
<p>3. <strong>Drug Trade and Infrastructure Development</strong>: Myanmar is part of the Golden Triangle, one of the world’s largest drug-producing regions. The drug trade, particularly methamphetamine and opium, has fueled conflicts and corrupted institutions. Simultaneously, infrastructure development projects, often involving foreign investment, have sometimes exacerbated local tensions over land rights and resource allocation.</p>
</section>
<section id="purpose-of-the-analysis-given-this-complex-backdrop-our-geospatial-analysis-of-armed-conflict-in-myanmar-aims-to" class="level2">
<h2 class="anchored" data-anchor-id="purpose-of-the-analysis-given-this-complex-backdrop-our-geospatial-analysis-of-armed-conflict-in-myanmar-aims-to">Purpose of the Analysis Given this complex backdrop, our geospatial analysis of armed conflict in Myanmar aims to:</h2>
<p>1. Identify patterns and hotspots of conflict related to religious and ethnic tensions.</p>
<p>2. Examine how these factors interact and potentially exacerbate each other in different regions of the country.</p>
<p>3. Track changes in conflict patterns over time, particularly in relation to significant political events like the 2021 military coup.</p>
<p>By focusing on these aspects, we hope to provide valuable insights that can inform humanitarian responses, contribute to a better understanding of conflict dynamics, and assist in developing more effective strategies for peace-building and development in the region.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>acled_sf <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/ACLED_Myanmar.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">crs =</span> <span class="dv">4326</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">32647</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">event_date =</span> <span class="fu">dmy</span>(event_date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 55574 Columns: 31
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (20): event_id_cnty, event_date, disorder_type, event_type, sub_event_ty...
dbl (11): year, time_precision, inter1, inter2, interaction, iso, latitude, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>tmap mode set to plotting</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>acled_sf <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2023</span> <span class="sc">|</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>           event_type <span class="sc">==</span> <span class="st">"Political violence"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_dots</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(acled_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 55,574
Columns: 30
$ event_id_cnty      &lt;chr&gt; "MMR56099", "MMR56222", "MMR56370", "MMR56376", "MM…
$ event_date         &lt;date&gt; 2023-12-31, 2023-12-31, 2023-12-31, 2023-12-31, 20…
$ year               &lt;dbl&gt; 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 202…
$ time_precision     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ disorder_type      &lt;chr&gt; "Political violence", "Political violence", "Politi…
$ event_type         &lt;chr&gt; "Explosions/Remote violence", "Explosions/Remote vi…
$ sub_event_type     &lt;chr&gt; "Shelling/artillery/missile attack", "Shelling/arti…
$ actor1             &lt;chr&gt; "Military Forces of Myanmar (2021-)", "Military For…
$ assoc_actor_1      &lt;chr&gt; NA, NA, NA, NA, NA, NA, "Daw Na Column; YGF: Ye Gue…
$ inter1             &lt;dbl&gt; 1, 1, 3, 6, 1, 1, 3, 1, 2, 1, 1, 2, 2, 1, 1, 3, 3, …
$ actor2             &lt;chr&gt; NA, "Civilians (Myanmar)", "Military Forces of Myan…
$ assoc_actor_2      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ inter2             &lt;dbl&gt; 0, 7, 1, 0, 7, 0, 1, 0, 1, 7, 7, 1, 1, 0, 0, 1, 1, …
$ interaction        &lt;dbl&gt; 10, 17, 13, 60, 17, 10, 13, 10, 12, 17, 17, 12, 12,…
$ civilian_targeting &lt;chr&gt; NA, "Civilian targeting", NA, NA, NA, NA, NA, NA, N…
$ iso                &lt;dbl&gt; 104, 104, 104, 104, 104, 104, 104, 104, 104, 104, 1…
$ region             &lt;chr&gt; "Southeast Asia", "Southeast Asia", "Southeast Asia…
$ country            &lt;chr&gt; "Myanmar", "Myanmar", "Myanmar", "Myanmar", "Myanma…
$ admin1             &lt;chr&gt; "Mon", "Rakhine", "Bago-West", "Sagaing", "Bago-Wes…
$ admin2             &lt;chr&gt; "Mawlamyine", "Maungdaw", "Thayarwady", "Yinmarbin"…
$ admin3             &lt;chr&gt; "Ye", "Maungdaw", "Nattalin", "Salingyi", "Nattalin…
$ location           &lt;chr&gt; "Aing Shey", "Kaing Gyi (NaTaLa)", "Kyauk Pyoke", "…
$ geo_precision      &lt;dbl&gt; 1, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, …
$ source             &lt;chr&gt; "Democratic Voice of Burma", "Development Media Gro…
$ source_scale       &lt;chr&gt; "National", "Subnational", "National", "National", …
$ notes              &lt;chr&gt; "On 31 December 2023, in Aing Shey village (Ye town…
$ fatalities         &lt;dbl&gt; 0, 0, 4, 0, 0, 0, 3, 0, 0, 0, 1, 0, 0, 0, 0, 1, 2, …
$ tags               &lt;chr&gt; NA, NA, NA, "crowd size=no report", NA, NA, NA, NA,…
$ timestamp          &lt;dbl&gt; 1704831212, 1704831213, 1704831214, 1704831214, 170…
$ geometry           &lt;POINT [m]&gt; POINT (393190.2 1690159), POINT (-183852.6 23…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for the specified date range</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>acled_filtered <span class="ot">&lt;-</span> acled_sf <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(event_date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>) <span class="sc">&amp;</span> event_date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-30"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>distinct_actor1 <span class="ot">&lt;-</span> acled_filtered <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(actor1) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(actor1))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(distinct_actor1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,334 × 1
   actor1                                                                   
   &lt;chr&gt;                                                                    
 1 Military Forces of Myanmar (2021-)                                       
 2 Phoenix DF: Phoenix Defense Force (Nattalin)                             
 3 Protesters (Myanmar)                                                     
 4 MSRF: Mon State Revolutionary                                            
 5 ULA/AA: United League of Arakan/Arakan Army                              
 6 PSLF/TNLA: Palaung State Liberation Front/Ta'ang National Liberation Army
 7 MSPDF: Myaung Special People's Defense Force                             
 8 People's Defense Force - Myingyan District                               
 9 Unidentified Anti-Coup Armed Group                                       
10 Police Forces of Myanmar (2021-)                                         
# ℹ 1,324 more rows</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>distinct_actor2 <span class="ot">&lt;-</span> acled_filtered <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(actor2) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(actor2))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(distinct_actor2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 473 × 1
   actor2                                                                       
   &lt;chr&gt;                                                                        
 1 Civilians (Myanmar)                                                          
 2 Military Forces of Myanmar (2021-)                                           
 3 Police Forces of Myanmar (2021-)                                             
 4 ULA/AA: United League of Arakan/Arakan Army                                  
 5 ARF: Ayeyarwaddy Revolution Front                                            
 6 ARSA: Arakan Rohingya Salvation Army                                         
 7 Unidentified Armed Group (Myanmar)                                           
 8 Pyu Saw Htee                                                                 
 9 KNU/KNLA: Karen National Union/Karen National Liberation Army                
10 Taungoo Kha Yaing Pyi Thu Kar Kwei Yae Tat Ma Taw Tat Yin Ahmat 3501: Taungo…
# ℹ 463 more rows</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>myanmar_boundary_sf <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"data/mmr_polbnda_adm0_250k_mimu_1"</span>, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">layer =</span> <span class="st">"mmr_polbnda_adm0_250k_mimu_1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `mmr_polbnda_adm0_250k_mimu_1' from data source 
  `C:\Users\pwnyt\Documents\GitHub\415\THE\THE1\data\mmr_polbnda_adm0_250k_mimu_1' 
  using driver `ESRI Shapefile'
Simple feature collection with 1 feature and 2 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554
Geodetic CRS:  WGS 84</code></pre>
</div>
</div>
</section>
</section>
<section id="compare-crs" class="level1">
<h1>Compare CRS</h1>
<p>Since we’ve gotten our data from different sources, let’s find out if they follow Myanmar’s crs system WGS84 to ensure consistency for our analysis!</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check CRS of acled_sf</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"CRS of ACLED data:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CRS of ACLED data:"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">st_crs</span>(acled_sf))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: EPSG:32647 
  wkt:
PROJCRS["WGS 84 / UTM zone 47N",
    BASEGEOGCRS["WGS 84",
        ENSEMBLE["World Geodetic System 1984 ensemble",
            MEMBER["World Geodetic System 1984 (Transit)"],
            MEMBER["World Geodetic System 1984 (G730)"],
            MEMBER["World Geodetic System 1984 (G873)"],
            MEMBER["World Geodetic System 1984 (G1150)"],
            MEMBER["World Geodetic System 1984 (G1674)"],
            MEMBER["World Geodetic System 1984 (G1762)"],
            MEMBER["World Geodetic System 1984 (G2139)"],
            ELLIPSOID["WGS 84",6378137,298.257223563,
                LENGTHUNIT["metre",1]],
            ENSEMBLEACCURACY[2.0]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4326]],
    CONVERSION["UTM zone 47N",
        METHOD["Transverse Mercator",
            ID["EPSG",9807]],
        PARAMETER["Latitude of natural origin",0,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8801]],
        PARAMETER["Longitude of natural origin",99,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8802]],
        PARAMETER["Scale factor at natural origin",0.9996,
            SCALEUNIT["unity",1],
            ID["EPSG",8805]],
        PARAMETER["False easting",500000,
            LENGTHUNIT["metre",1],
            ID["EPSG",8806]],
        PARAMETER["False northing",0,
            LENGTHUNIT["metre",1],
            ID["EPSG",8807]]],
    CS[Cartesian,2],
        AXIS["(E)",east,
            ORDER[1],
            LENGTHUNIT["metre",1]],
        AXIS["(N)",north,
            ORDER[2],
            LENGTHUNIT["metre",1]],
    USAGE[
        SCOPE["Navigation and medium accuracy spatial referencing."],
        AREA["Between 96°E and 102°E, northern hemisphere between equator and 84°N, onshore and offshore. China. Indonesia. Laos. Malaysia - West Malaysia. Mongolia. Myanmar (Burma). Russian Federation. Thailand."],
        BBOX[0,96,84,102]],
    ID["EPSG",32647]]</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform Myanmar boundary to match ACLED data CRS</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>myanmar_boundary_sf <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(myanmar_boundary_sf, <span class="fu">st_crs</span>(acled_sf))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Unite all geometries</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>myanmar_boundary_sf <span class="ot">&lt;-</span> <span class="fu">st_union</span>(myanmar_boundary_sf)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove Z or M dimensions</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>myanmar_boundary_sf <span class="ot">&lt;-</span> <span class="fu">st_zm</span>(myanmar_boundary_sf, <span class="at">drop =</span> <span class="cn">TRUE</span>, <span class="at">what =</span> <span class="st">"ZM"</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">st_crs</span>(myanmar_boundary_sf))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: EPSG:32647 
  wkt:
PROJCRS["WGS 84 / UTM zone 47N",
    BASEGEOGCRS["WGS 84",
        ENSEMBLE["World Geodetic System 1984 ensemble",
            MEMBER["World Geodetic System 1984 (Transit)"],
            MEMBER["World Geodetic System 1984 (G730)"],
            MEMBER["World Geodetic System 1984 (G873)"],
            MEMBER["World Geodetic System 1984 (G1150)"],
            MEMBER["World Geodetic System 1984 (G1674)"],
            MEMBER["World Geodetic System 1984 (G1762)"],
            MEMBER["World Geodetic System 1984 (G2139)"],
            ELLIPSOID["WGS 84",6378137,298.257223563,
                LENGTHUNIT["metre",1]],
            ENSEMBLEACCURACY[2.0]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4326]],
    CONVERSION["UTM zone 47N",
        METHOD["Transverse Mercator",
            ID["EPSG",9807]],
        PARAMETER["Latitude of natural origin",0,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8801]],
        PARAMETER["Longitude of natural origin",99,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8802]],
        PARAMETER["Scale factor at natural origin",0.9996,
            SCALEUNIT["unity",1],
            ID["EPSG",8805]],
        PARAMETER["False easting",500000,
            LENGTHUNIT["metre",1],
            ID["EPSG",8806]],
        PARAMETER["False northing",0,
            LENGTHUNIT["metre",1],
            ID["EPSG",8807]]],
    CS[Cartesian,2],
        AXIS["(E)",east,
            ORDER[1],
            LENGTHUNIT["metre",1]],
        AXIS["(N)",north,
            ORDER[2],
            LENGTHUNIT["metre",1]],
    USAGE[
        SCOPE["Navigation and medium accuracy spatial referencing."],
        AREA["Between 96°E and 102°E, northern hemisphere between equator and 84°N, onshore and offshore. China. Indonesia. Laos. Malaysia - West Malaysia. Mongolia. Myanmar (Burma). Russian Federation. Thailand."],
        BBOX[0,96,84,102]],
    ID["EPSG",32647]]</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a simple plot of the Myanmar boundary</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(myanmar_boundary_sf) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">lwd =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"lightblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"Myanmar Boundary"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">title.size =</span> <span class="fl">1.2</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">title.position =</span> <span class="fu">c</span>(<span class="st">"center"</span>, <span class="st">"top"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s check if our event types exist as defined:</p>
<p>Here we check for unique events:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>unique_event_types <span class="ot">&lt;-</span> <span class="fu">unique</span>(acled_sf<span class="sc">$</span>event_type)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Unique event types in the dataset:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Unique event types in the dataset:"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_event_types)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Explosions/Remote violence" "Battles"                   
[3] "Protests"                   "Strategic developments"    
[5] "Violence against civilians" "Riots"                     </code></pre>
</div>
</div>
<p>Sweet! looks good! Let’s filter out now for our wanted event types!</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter ACLED data for the specified date range and event types</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>event_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Battles"</span>, <span class="st">"Explosions/Remote violence"</span>, <span class="st">"Strategic developments"</span>, <span class="st">"Violence against civilians"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>acled_filtered <span class="ot">&lt;-</span> acled_sf <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(event_date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>) <span class="sc">&amp;</span> event_date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-30"</span>),</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>         event_type <span class="sc">%in%</span> event_types) <span class="sc">%&gt;%</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quarter =</span> <span class="fu">paste0</span>(<span class="fu">year</span>(event_date), <span class="st">"_Q"</span>, <span class="fu">quarter</span>(event_date)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="defining-our-kde-function-and-ppp" class="level1">
<h1>Defining our KDE function, and ppp</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create window for ppp objects</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>myanmar_window <span class="ot">&lt;-</span> <span class="fu">as.owin</span>(myanmar_boundary_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Quarter column</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>acled_filtered<span class="sc">$</span>Quarter <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">year</span>(acled_filtered<span class="sc">$</span>event_date), <span class="st">"_Q"</span>, <span class="fu">quarter</span>(acled_filtered<span class="sc">$</span>event_date))</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co">#numeric (1-12)</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>acled_filtered<span class="sc">$</span>QuarterNumeric <span class="ot">&lt;-</span> (<span class="fu">year</span>(acled_filtered<span class="sc">$</span>event_date) <span class="sc">-</span> <span class="dv">2021</span>) <span class="sc">*</span> <span class="dv">4</span> <span class="sc">+</span> <span class="fu">quarter</span>(acled_filtered<span class="sc">$</span>event_date)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new sf object with only Quarter and geometry</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>acled_quarter <span class="ot">&lt;-</span> <span class="fu">st_sf</span>(</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">QuarterNumeric =</span> acled_filtered<span class="sc">$</span>QuarterNumeric,</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">geometry =</span> <span class="fu">st_geometry</span>(acled_filtered)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the result</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(acled_quarter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 35691 features and 1 field
Geometry type: POINT
Dimension:     XY
Bounding box:  xmin: -206931.7 ymin: 1103500 xmax: 640934.5 ymax: 3042960
Projected CRS: WGS 84 / UTM zone 47N
First 10 features:
   QuarterNumeric                  geometry
1              12  POINT (393190.2 1690159)
2              12 POINT (-183852.6 2305258)
3              12    POINT (165427 2062239)
4              12    POINT (165427 2062239)
5              12 POINT (-206931.7 2359490)
6              12  POINT (391095.1 1692216)
7              12  POINT (277351.6 1932574)
8              12 POINT (-160687.3 2288064)
9              12 POINT (-41012.69 2118789)
10             12  POINT (202852.5 2640880)</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>acled_quarter_ppp <span class="ot">&lt;-</span> <span class="fu">as.ppp</span>(acled_quarter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply jittering</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>acled_q_ppp_jit <span class="ot">&lt;-</span> <span class="fu">rjitter</span>(acled_quarter_ppp, <span class="at">retry=</span><span class="cn">TRUE</span>, <span class="at">nsim=</span><span class="dv">1</span>, <span class="at">drop=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">duplicated</span>(acled_q_ppp_jit))) {</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">warning</span>(<span class="st">"Some duplicates remain after jittering"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>armed_q_owin <span class="ot">&lt;-</span> acled_q_ppp_jit[myanmar_window]</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(armed_q_owin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Marked planar point pattern:  35609 points
Average intensity 5.31705e-08 points per square unit

Coordinates are given to 15 decimal places

marks are numeric, of type 'double'
Summary:
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.000   4.000   7.000   6.838  10.000  12.000 

Window: polygonal boundary
563 separate polygons (3 holes)
                   vertices         area relative.area
polygon 1             37581  6.60254e+11      9.86e-01
polygon 2                26  2.85778e+06      4.27e-06
polygon 3                43  7.32477e+06      1.09e-05
polygon 4               103  1.86991e+07      2.79e-05
polygon 5                37  9.32316e+06      1.39e-05
polygon 6               371  2.43869e+08      3.64e-04
polygon 7               297  2.84905e+08      4.25e-04
polygon 8                33  1.68222e+07      2.51e-05
polygon 9                33  4.47665e+05      6.68e-07
polygon 10               19  1.34593e+05      2.01e-07
polygon 11               39  1.36327e+06      2.04e-06
polygon 12              137  1.55547e+08      2.32e-04
polygon 13               36  8.76479e+06      1.31e-05
polygon 14               79  3.08116e+07      4.60e-05
polygon 15              388  2.25271e+08      3.36e-04
polygon 16              316  7.78512e+07      1.16e-04
polygon 17               13  1.09564e+05      1.64e-07
polygon 18               18  3.49727e+05      5.22e-07
polygon 19               31  1.23017e+06      1.84e-06
polygon 20               16  6.55537e+05      9.79e-07
polygon 21               24  8.49487e+05      1.27e-06
polygon 22               30  2.54436e+06      3.80e-06
polygon 23              336  4.15806e+07      6.21e-05
polygon 24              330  1.69190e+08      2.53e-04
polygon 25               47  1.08035e+07      1.61e-05
polygon 26               39  4.94369e+06      7.38e-06
polygon 27               23  2.72438e+06      4.07e-06
polygon 28               33  5.70263e+06      8.52e-06
polygon 29               90  4.20329e+07      6.28e-05
polygon 30               28  1.35341e+06      2.02e-06
polygon 31              225  1.08816e+08      1.62e-04
polygon 32               33  9.16670e+06      1.37e-05
polygon 33              192  7.02655e+07      1.05e-04
polygon 34               49  1.49245e+07      2.23e-05
polygon 35               98  1.79076e+07      2.67e-05
polygon 36                6  6.37552e+05      9.52e-07
polygon 37               49  1.01233e+07      1.51e-05
polygon 38              141  3.43053e+07      5.12e-05
polygon 39              195  3.24345e+07      4.84e-05
polygon 40               51  3.38313e+06      5.05e-06
polygon 41               34  2.01400e+06      3.01e-06
polygon 42               13  2.50435e+05      3.74e-07
polygon 43                9  9.04824e+04      1.35e-07
polygon 44               34  4.61794e+06      6.90e-06
polygon 45               17  4.58200e+05      6.84e-07
polygon 46               15  2.74776e+05      4.10e-07
polygon 47               21  5.34978e+05      7.99e-07
polygon 48               19  4.55347e+05      6.80e-07
polygon 49               71  3.42557e+06      5.11e-06
polygon 50               24  1.32420e+06      1.98e-06
polygon 51               15  3.26247e+05      4.87e-07
polygon 52               39  8.65790e+05      1.29e-06
polygon 53               43  1.41627e+06      2.11e-06
polygon 54               24  7.52068e+05      1.12e-06
polygon 55               96  1.32101e+07      1.97e-05
polygon 56               38  1.18003e+06      1.76e-06
polygon 57              429  5.99087e+08      8.95e-04
polygon 58               13  1.74105e+05      2.60e-07
polygon 59               19  2.52336e+05      3.77e-07
polygon 60               16  3.11495e+05      4.65e-07
polygon 61               11  9.11047e+04      1.36e-07
polygon 62               12  2.13470e+05      3.19e-07
polygon 63               17  5.82663e+05      8.70e-07
polygon 64               56  2.60440e+07      3.89e-05
polygon 65              107  4.91389e+06      7.34e-06
polygon 66               51  2.79076e+06      4.17e-06
polygon 67               89  1.61156e+07      2.41e-05
polygon 68               28  1.30499e+06      1.95e-06
polygon 69               11  1.27616e+05      1.91e-07
polygon 70               34  2.54199e+06      3.80e-06
polygon 71               27  1.72476e+06      2.58e-06
polygon 72               37  2.01882e+06      3.01e-06
polygon 73               23  1.65571e+06      2.47e-06
polygon 74               33  3.05816e+06      4.57e-06
polygon 75               14  3.23153e+05      4.83e-07
polygon 76               91  1.51209e+07      2.26e-05
polygon 77               12  2.42901e+05      3.63e-07
polygon 78               11  1.37889e+05      2.06e-07
polygon 79               58  2.29751e+07      3.43e-05
polygon 80               48  5.10265e+06      7.62e-06
polygon 81               22  1.30706e+06      1.95e-06
polygon 82               15  3.49480e+05      5.22e-07
polygon 83               17  1.57570e+06      2.35e-06
polygon 84               34  3.68725e+06      5.51e-06
polygon 85               34  5.21904e+06      7.79e-06
polygon 86               24  5.42734e+06      8.10e-06
polygon 87              422  4.66497e+08      6.97e-04
polygon 88              142  2.98767e+07      4.46e-05
polygon 89              132  2.18707e+07      3.27e-05
polygon 90               19  5.88230e+05      8.78e-07
polygon 91               22  1.77611e+06      2.65e-06
polygon 92               40  4.09952e+06      6.12e-06
polygon 93               28  1.47685e+06      2.21e-06
polygon 94               67  9.99685e+06      1.49e-05
polygon 95               25  4.82266e+05      7.20e-07
polygon 96               16  4.14093e+05      6.18e-07
polygon 97               26  3.03928e+06      4.54e-06
polygon 98               14  1.53563e+05      2.29e-07
polygon 99               19  5.08538e+05      7.59e-07
polygon 100              16  1.80565e+05      2.70e-07
polygon 101              26  9.75091e+05      1.46e-06
polygon 102              19  2.15295e+05      3.21e-07
polygon 103              16  3.50061e+05      5.23e-07
polygon 104 (hole)        3 -1.78834e+02     -2.67e-10
polygon 105              14  2.11571e+05      3.16e-07
polygon 106              11  1.59536e+05      2.38e-07
polygon 107             111  7.35028e+07      1.10e-04
polygon 108              54  9.35305e+06      1.40e-05
polygon 109              19  6.34649e+05      9.48e-07
polygon 110              79  1.47390e+07      2.20e-05
polygon 111              10  3.74827e+04      5.60e-08
polygon 112              13  1.37100e+05      2.05e-07
polygon 113              31  4.47193e+06      6.68e-06
polygon 114              19  1.23742e+06      1.85e-06
polygon 115              20  1.79201e+06      2.68e-06
polygon 116              16  2.19464e+05      3.28e-07
polygon 117              11  7.94092e+04      1.19e-07
polygon 118              14  1.45779e+05      2.18e-07
polygon 119              31  6.24672e+05      9.33e-07
polygon 120              11  2.29288e+04      3.42e-08
polygon 121              18  2.10998e+05      3.15e-07
polygon 122              26  2.52571e+06      3.77e-06
polygon 123              16  5.77783e+05      8.63e-07
polygon 124              26  8.87985e+05      1.33e-06
polygon 125              13  1.10557e+05      1.65e-07
polygon 126              21  9.55338e+05      1.43e-06
polygon 127              32  2.18189e+06      3.26e-06
polygon 128              18  7.64830e+05      1.14e-06
polygon 129              34  1.71336e+06      2.56e-06
polygon 130             115  9.29594e+05      1.39e-06
polygon 131              68  2.06761e+05      3.09e-07
polygon 132              40  4.87851e+06      7.28e-06
polygon 133              10  7.43137e+04      1.11e-07
polygon 134              17  5.95020e+05      8.88e-07
polygon 135              21  4.02132e+05      6.00e-07
polygon 136              21  1.09635e+06      1.64e-06
polygon 137              14  1.15356e+05      1.72e-07
polygon 138              20  3.13610e+05      4.68e-07
polygon 139             275  3.92648e+08      5.86e-04
polygon 140              16  2.19612e+05      3.28e-07
polygon 141              13  2.64858e+05      3.95e-07
polygon 142              23  1.25549e+06      1.87e-06
polygon 143               9  1.79312e+05      2.68e-07
polygon 144              15  2.93132e+05      4.38e-07
polygon 145              15  5.29892e+05      7.91e-07
polygon 146              23  4.95351e+05      7.40e-07
polygon 147              14  4.41976e+05      6.60e-07
polygon 148              19  3.32318e+05      4.96e-07
polygon 149              16  4.15914e+05      6.21e-07
polygon 150              22  5.10526e+05      7.62e-07
polygon 151              48  1.87148e+07      2.79e-05
polygon 152              18  1.62882e+06      2.43e-06
polygon 153              71  2.43615e+07      3.64e-05
polygon 154             116  5.16444e+07      7.71e-05
polygon 155              19  1.54144e+06      2.30e-06
polygon 156              11  2.01013e+05      3.00e-07
polygon 157              20  2.31201e+06      3.45e-06
polygon 158              15  5.94674e+05      8.88e-07
polygon 159             218  1.56252e+08      2.33e-04
polygon 160             162  8.80247e+07      1.31e-04
polygon 161              16  3.69968e+05      5.52e-07
polygon 162              14  1.61451e+05      2.41e-07
polygon 163              18  5.54566e+05      8.28e-07
polygon 164              19  5.07078e+05      7.57e-07
polygon 165              57  6.86475e+06      1.03e-05
polygon 166              15  6.56018e+05      9.80e-07
polygon 167              21  6.65092e+05      9.93e-07
polygon 168              15  5.97784e+05      8.93e-07
polygon 169              37  2.56010e+06      3.82e-06
polygon 170              13  1.66996e+05      2.49e-07
polygon 171              20  8.18381e+05      1.22e-06
polygon 172              21  2.89704e+06      4.33e-06
polygon 173              15  4.08213e+05      6.10e-07
polygon 174             104  4.71547e+07      7.04e-05
polygon 175              28  3.80443e+06      5.68e-06
polygon 176              67  3.17343e+07      4.74e-05
polygon 177             730  9.20735e+08      1.37e-03
polygon 178              16  2.01576e+05      3.01e-07
polygon 179              12  1.41506e+05      2.11e-07
polygon 180              15  4.92125e+05      7.35e-07
polygon 181              18  1.58128e+06      2.36e-06
polygon 182              25  1.94322e+06      2.90e-06
polygon 183              12  2.51373e+05      3.75e-07
polygon 184             412  4.47936e+08      6.69e-04
polygon 185              22  7.57105e+05      1.13e-06
polygon 186              16  6.97434e+05      1.04e-06
polygon 187              39  4.45130e+06      6.65e-06
polygon 188              13  8.83786e+05      1.32e-06
polygon 189              10  2.06200e+05      3.08e-07
polygon 190              76  3.60497e+07      5.38e-05
polygon 191              13  4.56433e+05      6.82e-07
polygon 192              28  2.30613e+06      3.44e-06
polygon 193              27  2.50338e+06      3.74e-06
polygon 194              14  4.69238e+05      7.01e-07
polygon 195              10  1.69886e+05      2.54e-07
polygon 196              16  5.42822e+05      8.11e-07
polygon 197              10  1.17633e+05      1.76e-07
polygon 198               8  7.08579e+04      1.06e-07
polygon 199             144  7.85300e+07      1.17e-04
polygon 200              37  1.93477e+06      2.89e-06
polygon 201              25  5.59996e+05      8.36e-07
polygon 202              44  2.86031e+06      4.27e-06
polygon 203              26  1.26276e+06      1.89e-06
polygon 204             149  1.37840e+08      2.06e-04
polygon 205              18  4.84958e+05      7.24e-07
polygon 206              73  2.93195e+07      4.38e-05
polygon 207              45  6.87481e+06      1.03e-05
polygon 208              64  1.80880e+07      2.70e-05
polygon 209              12  8.76879e+05      1.31e-06
polygon 210              26  2.78381e+06      4.16e-06
polygon 211              35  8.72326e+06      1.30e-05
polygon 212              53  1.06237e+07      1.59e-05
polygon 213              26  5.40467e+06      8.07e-06
polygon 214             148  1.05037e+08      1.57e-04
polygon 215              21  8.32798e+05      1.24e-06
polygon 216              21  2.23023e+06      3.33e-06
polygon 217               8  6.30805e+05      9.42e-07
polygon 218              78  3.67603e+07      5.49e-05
polygon 219              18  1.64745e+06      2.46e-06
polygon 220              58  1.31747e+07      1.97e-05
polygon 221              94  1.16837e+07      1.74e-05
polygon 222              53  3.17801e+06      4.75e-06
polygon 223             137  8.46454e+06      1.26e-05
polygon 224              23  4.36507e+05      6.52e-07
polygon 225              27  9.72136e+05      1.45e-06
polygon 226              55  1.98854e+06      2.97e-06
polygon 227              48  1.02651e+07      1.53e-05
polygon 228              15  3.16153e+05      4.72e-07
polygon 229              22  8.93201e+05      1.33e-06
polygon 230              18  2.91538e+05      4.35e-07
polygon 231              59  3.70736e+06      5.54e-06
polygon 232              11  1.55205e+05      2.32e-07
polygon 233              14  1.87401e+05      2.80e-07
polygon 234              11  6.54128e+04      9.77e-08
polygon 235              11  8.64659e+04      1.29e-07
polygon 236              12  2.25129e+05      3.36e-07
polygon 237              30  2.72178e+06      4.06e-06
polygon 238 (hole)        3 -2.26252e+00     -3.38e-12
polygon 239             180  1.80314e+07      2.69e-05
polygon 240              14  4.01942e+05      6.00e-07
polygon 241             103  1.33467e+07      1.99e-05
polygon 242              14  2.07708e+05      3.10e-07
polygon 243              55  4.38623e+06      6.55e-06
polygon 244              41  4.69733e+06      7.01e-06
polygon 245              74  3.92633e+06      5.86e-06
polygon 246              31  2.79477e+06      4.17e-06
polygon 247              17  8.74607e+05      1.31e-06
polygon 248              26  4.50962e+05      6.73e-07
polygon 249              18  1.15065e+06      1.72e-06
polygon 250             164  1.48037e+07      2.21e-05
polygon 251              12  3.17290e+05      4.74e-07
polygon 252              69  2.59551e+07      3.88e-05
polygon 253              37  7.85963e+05      1.17e-06
polygon 254              14  3.37873e+05      5.05e-07
polygon 255              12  1.77980e+05      2.66e-07
polygon 256              21  6.46195e+05      9.65e-07
polygon 257              24  2.69998e+06      4.03e-06
polygon 258              30  1.00675e+06      1.50e-06
polygon 259              57  4.22747e+06      6.31e-06
polygon 260              23  8.63543e+05      1.29e-06
polygon 261              11  2.01925e+05      3.02e-07
polygon 262              95  2.88232e+07      4.30e-05
polygon 263             452  9.64208e+07      1.44e-04
polygon 264              77  1.72297e+07      2.57e-05
polygon 265              16  3.33522e+05      4.98e-07
polygon 266              19  6.82895e+05      1.02e-06
polygon 267              43  3.95062e+06      5.90e-06
polygon 268              29  1.00709e+06      1.50e-06
polygon 269              21  8.90014e+05      1.33e-06
polygon 270              22  7.93453e+05      1.18e-06
polygon 271              13  4.52813e+05      6.76e-07
polygon 272              30  1.49817e+06      2.24e-06
polygon 273              48  4.23996e+06      6.33e-06
polygon 274              37  1.20290e+06      1.80e-06
polygon 275              19  4.85805e+05      7.25e-07
polygon 276              46  2.18001e+06      3.26e-06
polygon 277               7  1.33723e+05      2.00e-07
polygon 278              54  1.82059e+07      2.72e-05
polygon 279              10  8.57866e+05      1.28e-06
polygon 280              14  1.98445e+05      2.96e-07
polygon 281              19  4.68357e+05      6.99e-07
polygon 282              52  8.57765e+06      1.28e-05
polygon 283              73  7.91998e+06      1.18e-05
polygon 284              23  8.19561e+06      1.22e-05
polygon 285              10  1.06594e+05      1.59e-07
polygon 286             169  1.39462e+07      2.08e-05
polygon 287              17  2.55915e+05      3.82e-07
polygon 288              12  1.81516e+05      2.71e-07
polygon 289              16  3.68509e+05      5.50e-07
polygon 290              12  1.24954e+05      1.87e-07
polygon 291            1012  4.61886e+08      6.90e-04
polygon 292              15  5.42647e+05      8.10e-07
polygon 293              12  5.53088e+05      8.26e-07
polygon 294              24  1.06455e+06      1.59e-06
polygon 295              14  3.17038e+05      4.73e-07
polygon 296              17  1.25559e+06      1.87e-06
polygon 297              16  1.92407e+06      2.87e-06
polygon 298              80  1.86306e+07      2.78e-05
polygon 299              11  6.83880e+04      1.02e-07
polygon 300             166  4.21470e+07      6.29e-05
polygon 301              22  1.36174e+06      2.03e-06
polygon 302              31  6.07363e+05      9.07e-07
polygon 303              10  1.27067e+05      1.90e-07
polygon 304             164  5.02951e+07      7.51e-05
polygon 305              17  1.20798e+06      1.80e-06
polygon 306              59  2.41720e+06      3.61e-06
polygon 307              12  2.52952e+05      3.78e-07
polygon 308              14  2.44407e+05      3.65e-07
polygon 309              43  4.89177e+06      7.30e-06
polygon 310              40  3.86642e+06      5.77e-06
polygon 311              23  4.59203e+05      6.86e-07
polygon 312              14  1.79442e+05      2.68e-07
polygon 313              13  1.61191e+05      2.41e-07
polygon 314              43  1.33365e+06      1.99e-06
polygon 315              75  1.20247e+07      1.80e-05
polygon 316              17  9.96466e+04      1.49e-07
polygon 317              22  1.60660e+06      2.40e-06
polygon 318             730  1.16983e+08      1.75e-04
polygon 319             129  7.87539e+06      1.18e-05
polygon 320              22  4.66256e+05      6.96e-07
polygon 321              19  5.44519e+05      8.13e-07
polygon 322              16  3.73911e+05      5.58e-07
polygon 323              88  3.47678e+07      5.19e-05
polygon 324              46  3.23711e+06      4.83e-06
polygon 325              47  9.17482e+05      1.37e-06
polygon 326              14  4.44869e+05      6.64e-07
polygon 327              43  1.29527e+06      1.93e-06
polygon 328              65  3.20974e+06      4.79e-06
polygon 329             306  1.83695e+07      2.74e-05
polygon 330              17  4.25486e+05      6.35e-07
polygon 331              29  1.08467e+06      1.62e-06
polygon 332              26  1.16602e+06      1.74e-06
polygon 333             135  4.90655e+06      7.33e-06
polygon 334              23  1.87723e+06      2.80e-06
polygon 335              21  7.02338e+05      1.05e-06
polygon 336              30  4.99970e+06      7.47e-06
polygon 337              21  7.71571e+05      1.15e-06
polygon 338              13  1.47832e+05      2.21e-07
polygon 339              26  3.17307e+06      4.74e-06
polygon 340              17  1.03642e+06      1.55e-06
polygon 341             100  8.74537e+06      1.31e-05
polygon 342              11  1.13950e+05      1.70e-07
polygon 343              26  8.27840e+05      1.24e-06
polygon 344              17  4.10882e+05      6.14e-07
polygon 345              13  1.49250e+05      2.23e-07
polygon 346              35  1.76408e+06      2.63e-06
polygon 347              15  2.03390e+05      3.04e-07
polygon 348              18  1.70982e+05      2.55e-07
polygon 349              32  7.98599e+06      1.19e-05
polygon 350              27  3.20839e+05      4.79e-07
polygon 351             539  1.17139e+08      1.75e-04
polygon 352              51  1.57614e+06      2.35e-06
polygon 353              19  3.60772e+05      5.39e-07
polygon 354              58  2.10060e+06      3.14e-06
polygon 355              13  1.70224e+05      2.54e-07
polygon 356              11  6.11736e+05      9.13e-07
polygon 357              35  5.26152e+06      7.86e-06
polygon 358              16  1.99371e+05      2.98e-07
polygon 359              14  4.48979e+05      6.70e-07
polygon 360              25  1.92913e+06      2.88e-06
polygon 361              16  4.26157e+05      6.36e-07
polygon 362              46  1.88229e+06      2.81e-06
polygon 363              17  2.29456e+05      3.43e-07
polygon 364              36  4.01418e+06      5.99e-06
polygon 365              57  1.77153e+07      2.65e-05
polygon 366              20  5.72298e+05      8.55e-07
polygon 367              14  2.46782e+05      3.68e-07
polygon 368              29  1.01300e+06      1.51e-06
polygon 369              90  8.54955e+06      1.28e-05
polygon 370              21  3.99098e+05      5.96e-07
polygon 371              12  2.81650e+05      4.21e-07
polygon 372              52  3.19337e+06      4.77e-06
polygon 373              13  3.40300e+05      5.08e-07
polygon 374              29  9.08533e+05      1.36e-06
polygon 375              20  3.07393e+05      4.59e-07
polygon 376              19  1.15906e+06      1.73e-06
polygon 377              17  1.16182e+06      1.73e-06
polygon 378              21  2.60877e+06      3.90e-06
polygon 379              15  1.09001e+05      1.63e-07
polygon 380              37  1.31921e+06      1.97e-06
polygon 381              53  1.46854e+06      2.19e-06
polygon 382              59  8.92822e+06      1.33e-05
polygon 383               9  7.44981e+04      1.11e-07
polygon 384              14  2.41462e+05      3.61e-07
polygon 385              96  7.25940e+06      1.08e-05
polygon 386              11  1.06055e+05      1.58e-07
polygon 387              49  1.87834e+06      2.80e-06
polygon 388              23  6.08310e+05      9.08e-07
polygon 389              50  6.76488e+05      1.01e-06
polygon 390              22  4.83089e+05      7.21e-07
polygon 391              17  1.17278e+05      1.75e-07
polygon 392              13  8.98786e+05      1.34e-06
polygon 393              43  1.01757e+06      1.52e-06
polygon 394              52  1.68377e+06      2.51e-06
polygon 395             348  2.50314e+08      3.74e-04
polygon 396              43  1.29120e+06      1.93e-06
polygon 397              71  2.02836e+06      3.03e-06
polygon 398 (hole)        4 -4.12791e+00     -6.16e-12
polygon 399             141  4.53240e+06      6.77e-06
polygon 400              52  3.62008e+06      5.41e-06
polygon 401              20  7.69539e+05      1.15e-06
polygon 402              88  8.88904e+06      1.33e-05
polygon 403              12  1.44668e+05      2.16e-07
polygon 404              46  2.28026e+06      3.40e-06
polygon 405              39  4.79165e+06      7.15e-06
polygon 406              53  2.86736e+06      4.28e-06
polygon 407              38  3.22508e+06      4.82e-06
polygon 408              18  4.44863e+05      6.64e-07
polygon 409              45  1.45134e+06      2.17e-06
polygon 410              86  2.56400e+07      3.83e-05
polygon 411             158  1.74510e+07      2.61e-05
polygon 412              14  2.50383e+05      3.74e-07
polygon 413             120  7.17019e+06      1.07e-05
polygon 414             146  2.28448e+07      3.41e-05
polygon 415             143  2.34472e+07      3.50e-05
polygon 416              20  3.47415e+05      5.19e-07
polygon 417              84  3.86387e+06      5.77e-06
polygon 418              68  1.10850e+07      1.66e-05
polygon 419             863  7.47702e+07      1.12e-04
polygon 420              53  7.54742e+06      1.13e-05
polygon 421              64  2.11016e+06      3.15e-06
polygon 422             103  1.47525e+07      2.20e-05
polygon 423              26  3.40345e+06      5.08e-06
polygon 424             103  8.40445e+06      1.25e-05
polygon 425              23  4.92041e+05      7.35e-07
polygon 426              27  5.53625e+05      8.27e-07
polygon 427              60  3.56102e+06      5.32e-06
polygon 428             151  1.51314e+07      2.26e-05
polygon 429             708  4.18129e+08      6.24e-04
polygon 430             120  1.32857e+07      1.98e-05
polygon 431             856  2.53898e+08      3.79e-04
polygon 432              13  2.47298e+05      3.69e-07
polygon 433              16  7.35754e+05      1.10e-06
polygon 434              21  5.31633e+05      7.94e-07
polygon 435              72  1.03185e+07      1.54e-05
polygon 436              38  1.34734e+06      2.01e-06
polygon 437               8  4.09489e+05      6.11e-07
polygon 438              17  2.46995e+05      3.69e-07
polygon 439              14  1.42285e+05      2.12e-07
polygon 440               9  1.56346e+05      2.33e-07
polygon 441              42  5.49581e+05      8.21e-07
polygon 442              59  1.15813e+06      1.73e-06
polygon 443              12  1.16845e+05      1.74e-07
polygon 444              11  6.00122e+04      8.96e-08
polygon 445              14  1.63465e+05      2.44e-07
polygon 446               8  4.73674e+04      7.07e-08
polygon 447              23  6.69330e+05      9.99e-07
polygon 448             144  6.48346e+06      9.68e-06
polygon 449              74  4.79923e+06      7.17e-06
polygon 450             116  1.02706e+07      1.53e-05
polygon 451              16  2.74005e+05      4.09e-07
polygon 452              97  4.72599e+06      7.06e-06
polygon 453              18  6.15583e+05      9.19e-07
polygon 454             146  1.38979e+07      2.08e-05
polygon 455              32  1.94516e+06      2.90e-06
polygon 456              26  9.81356e+05      1.47e-06
polygon 457              82  4.39797e+06      6.57e-06
polygon 458              33  9.36113e+05      1.40e-06
polygon 459              47  1.51844e+06      2.27e-06
polygon 460             196  2.32689e+07      3.47e-05
polygon 461              53  1.30069e+06      1.94e-06
polygon 462              70  1.00802e+07      1.51e-05
polygon 463              10  5.33870e+05      7.97e-07
polygon 464             211  2.73026e+07      4.08e-05
polygon 465              41  1.44141e+06      2.15e-06
polygon 466               9  5.20220e+05      7.77e-07
polygon 467             316  6.66808e+07      9.96e-05
polygon 468              17  7.48505e+05      1.12e-06
polygon 469              15  1.49799e+05      2.24e-07
polygon 470              24  4.99500e+05      7.46e-07
polygon 471              12  2.24463e+05      3.35e-07
polygon 472             100  1.06028e+07      1.58e-05
polygon 473              11  1.24267e+05      1.86e-07
polygon 474             143  1.89581e+07      2.83e-05
polygon 475              60  7.07802e+06      1.06e-05
polygon 476             124  1.23476e+07      1.84e-05
polygon 477              34  5.67625e+06      8.48e-06
polygon 478             797  1.86955e+08      2.79e-04
polygon 479              15  7.15891e+05      1.07e-06
polygon 480              20  1.61624e+06      2.41e-06
polygon 481              13  1.73955e+05      2.60e-07
polygon 482              60  2.42590e+06      3.62e-06
polygon 483              20  3.86365e+05      5.77e-07
polygon 484             213  3.69421e+07      5.52e-05
polygon 485              15  4.55574e+05      6.80e-07
polygon 486              35  1.56058e+06      2.33e-06
polygon 487              32  1.42419e+06      2.13e-06
polygon 488              68  2.30711e+06      3.44e-06
polygon 489             240  5.93935e+07      8.87e-05
polygon 490             145  1.58875e+07      2.37e-05
polygon 491              39  3.67239e+06      5.48e-06
polygon 492              54  3.84847e+06      5.75e-06
polygon 493              32  1.14073e+06      1.70e-06
polygon 494              18  3.58549e+05      5.35e-07
polygon 495              25  8.06470e+05      1.20e-06
polygon 496              15  2.67818e+05      4.00e-07
polygon 497              26  1.43681e+06      2.15e-06
polygon 498              18  3.10061e+05      4.63e-07
polygon 499              18  4.71644e+05      7.04e-07
polygon 500              16  5.04146e+05      7.53e-07
polygon 501              72  7.33720e+06      1.10e-05
polygon 502              27  1.37772e+06      2.06e-06
polygon 503              15  3.17217e+05      4.74e-07
polygon 504              37  1.17498e+06      1.75e-06
polygon 505              21  7.05388e+05      1.05e-06
polygon 506             216  2.05399e+07      3.07e-05
polygon 507              16  2.40093e+05      3.59e-07
polygon 508              29  1.71282e+06      2.56e-06
polygon 509              30  1.28695e+06      1.92e-06
polygon 510              36  2.29670e+06      3.43e-06
polygon 511             129  1.97698e+07      2.95e-05
polygon 512              65  2.65969e+06      3.97e-06
polygon 513             283  3.30575e+07      4.94e-05
polygon 514              28  7.06271e+05      1.05e-06
polygon 515              28  5.50158e+05      8.21e-07
polygon 516              49  2.25015e+06      3.36e-06
polygon 517              26  1.24280e+06      1.86e-06
polygon 518              28  9.02794e+05      1.35e-06
polygon 519              18  4.84064e+05      7.23e-07
polygon 520              47  2.33442e+06      3.49e-06
polygon 521              17  2.23835e+05      3.34e-07
polygon 522              34  7.32504e+05      1.09e-06
polygon 523              41  7.15538e+05      1.07e-06
polygon 524              21  5.81687e+05      8.69e-07
polygon 525              63  3.83819e+06      5.73e-06
polygon 526              27  1.33192e+06      1.99e-06
polygon 527              46  2.95028e+06      4.41e-06
polygon 528              10  1.34210e+05      2.00e-07
polygon 529              16  2.38274e+05      3.56e-07
polygon 530              18  4.18536e+05      6.25e-07
polygon 531              46  1.26584e+06      1.89e-06
polygon 532              14  2.14679e+05      3.21e-07
polygon 533              76  3.63371e+06      5.43e-06
polygon 534             339  4.44685e+07      6.64e-05
polygon 535             109  6.29786e+06      9.40e-06
polygon 536              14  2.89570e+05      4.32e-07
polygon 537              37  9.07704e+05      1.36e-06
polygon 538              68  3.86104e+06      5.77e-06
polygon 539             183  1.45458e+07      2.17e-05
polygon 540              44  1.64355e+06      2.45e-06
polygon 541              26  1.21667e+06      1.82e-06
polygon 542              13  1.95710e+05      2.92e-07
polygon 543              38  1.44402e+06      2.16e-06
polygon 544              14  3.29394e+05      4.92e-07
polygon 545              14  1.79828e+05      2.69e-07
polygon 546              44  2.11118e+06      3.15e-06
polygon 547             643  1.79215e+08      2.68e-04
polygon 548              24  1.10979e+06      1.66e-06
polygon 549              30  1.57106e+06      2.35e-06
polygon 550              46  3.61716e+06      5.40e-06
polygon 551              93  7.56340e+05      1.13e-06
polygon 552              57  3.07732e+06      4.59e-06
polygon 553              18  2.16224e+05      3.23e-07
polygon 554              17  5.12388e+05      7.65e-07
polygon 555               9  7.44780e+04      1.11e-07
polygon 556              57  8.09122e+06      1.21e-05
polygon 557              16  4.01323e+05      5.99e-07
polygon 558             118  2.90304e+07      4.33e-05
polygon 559              22  4.44693e+05      6.64e-07
polygon 560              43  2.28763e+06      3.42e-06
polygon 561              27  1.15444e+06      1.72e-06
polygon 562              25  1.21695e+06      1.82e-06
polygon 563              53  4.49228e+06      6.71e-06
enclosing rectangle: [-210008.6, 724647.6] x [1072026.3, 3158467.1] units
                     (934700 x 2086000 units)
Window area = 6.69714e+11 square units
Fraction of frame area: 0.343</code></pre>
</div>
</div>
<section id="plotting-armed-events-owin" class="level2">
<h2 class="anchored" data-anchor-id="plotting-armed-events-owin">Plotting Armed events owin:</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(armed_q_owin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="plotting-stkde-for-quarterly-kde" class="level3">
<h3 class="anchored" data-anchor-id="plotting-stkde-for-quarterly-kde">Plotting stkde for quarterly kde</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>st_kde <span class="ot">&lt;-</span> <span class="fu">spattemp.density</span>(armed_q_owin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Calculating trivariate smooth...Done.
Edge-correcting...Done.
Conditioning on time...Done.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(st_kde)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Spatiotemporal Kernel Density Estimate

Bandwidths
  h = 45804.45 (spatial)
  lambda = 0.0047 (temporal)

No. of observations
  35609 

Spatial bound
  Type: polygonal
  2D enclosure: [-210008.6, 724647.6] x [1072026, 3158467]

Temporal bound
  [1, 12]

Evaluation
  128 x 128 x 12 trivariate lattice
  Density range: [6.862805e-24, 1.544794e-10]</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In my initial run, there were duplicate points. Since ACLED collects from a variety of sources, I have considered the possibilkity of multiple sources reporting the same event, but for sake of time I have jittered them earlier on. Below, we shall embark on plotting out the graph. Note that I decided on representation as 1-12 since tt only takes in numeric so quarter() from tidyverse would not work well with it…</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot 3 quarters</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>plot_quarters <span class="ot">&lt;-</span> <span class="cf">function</span>(start_quarter) {</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  quarters <span class="ot">&lt;-</span> start_quarter<span class="sc">:</span>(start_quarter <span class="sc">+</span> <span class="dv">2</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>))</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> quarters) {</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(st_kde, i, </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">override.par=</span><span class="cn">FALSE</span>, </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">fix.range=</span><span class="cn">TRUE</span>, </span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">main=</span><span class="fu">paste</span>(<span class="st">"KDE Q"</span>, i, <span class="st">"("</span>, <span class="fu">floor</span>((i<span class="dv">-1</span>)<span class="sc">/</span><span class="dv">4</span> <span class="sc">+</span> <span class="dv">2021</span>), <span class="st">"Q"</span>, (i<span class="dv">-1</span>)<span class="sc">%%</span> <span class="dv">4</span> <span class="sc">+</span> <span class="dv">1</span>, <span class="st">")"</span>),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">ribbon=</span><span class="cn">TRUE</span>)  <span class="co"># Turned ribbon back on for more informative plots</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))  <span class="co"># Reset plot layout</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot four sets of quarters</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_quarters</span>(<span class="dv">1</span>)  <span class="co"># Quarters 1, 2, 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_quarters</span>(<span class="dv">4</span>)  <span class="co"># Quarters 4, 5, 6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_quarters</span>(<span class="dv">7</span>)  <span class="co"># Quarters 7, 8, 9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_quarters</span>(<span class="dv">10</span>)  <span class="co"># Quarters 10, 11, 12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hxthe1_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>